<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="volunteer.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
        rel="stylesheet">
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap" async defer></script>
    <title>Volunteer - Voluntrr</title>
</head>

<body>
    <div class="nav">
        <img src="images/Voluntrr.png" alt="Voluntrr Logo" class="logo">
        <ul>
            <li><a href="about.html">About</a></li>
            <li><a href="volunteer.html">Volunteer</a></li>
            <li><a href="news.html">News</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </div>
    <div class="main-content">
        <div class="volunteer-section">
            <div class="search-filter">
                <h2>Search Filter</h2>
                <label for="location">Location</label>
                <select id="myLocation" onchange="searchFunction()">
                    <option value="">Select Location</option>
                    <option value="penang">Penang</option>
                    <option value="johor">Johor</option>
                    <option value="kedah">Kedah</option>
                </select>
                <label for="date">Date</label>
                <input type="date" id="date" onchange="searchFunction()">
                <label for="categories">Categories</label>
                <select id="myCategories" onchange="searchFunction()">
                    <option value="">Select Category</option>
                    <option value="cleaning-city">Cleaning City</option>
                    <option value="cleaning-ocean">Cleaning Ocean</option>
                    <option value="helping-elderly">Helping Elderly</option>
                </select>
            </div>
            <div class="map">
                <h2>Interactive Map</h2>
                <div id="map" style="width: 100%; height: 450px;"></div>
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d32611139.562062323!2d87.6873424165248!3d3.8419315820082005!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3034d3975f6730af%3A0x745969328211cd8!2sMalaysia!5e0!3m2!1sen!2smy!4v1721291352896!5m2!1sen!2smy" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
            <div class="volunteer-list">
                <h2>List of Volunteers</h2>
                <div class="volunteer-item" onclick="showList('cleaning-city-list')">
                    <p>Cleaning City</p>
                </div>
                <div class="volunteer-item" onclick="showList('cleaning-ocean-list')">
                    <p>Cleaning Ocean</p>
                </div>
                <div class="volunteer-item" onclick="showList('helping-elderly-list')">
                    <p>Helping Elderly</p>
                </div>
            </div>
            <div class="list-item">
                <ul id="cleaning-city-list" class="volunteer-list-items" style="display: none;">
                    <li class="item" data-location="penang" data-category="cleaning-city" data-date="2024-07-15" data-lat="5.4164" data-lng="100.3327">
                        <div>
                            <h4>Park Cleaning</h4>
                            <p>Sunday(15/7/24): 9.00am-1.00pm</p>
                        </div>
                    </li>
                    <li class="item" data-location="kedah" data-category="cleaning-city" data-date="2024-07-20" data-lat="6.1184" data-lng="100.3686">
                        <div>
                            <h4>Park Cleaning Kedah</h4>
                            <p>Saturday(20/7/24): 10.00am-2.00pm</p>
                        </div>
                    </li>
                </ul>
                <ul id="cleaning-ocean-list" class="volunteer-list-items" style="display: none;">
                    <li class="item" data-location="penang" data-category="cleaning-ocean" data-date="2024-07-27" data-lat="5.4211" data-lng="100.3430">
                        <div>
                            <h4>Beach Cleaning</h4>
                            <p>Saturday(27/7/24): 9.00am-1.00pm</p>
                        </div>
                    </li>
                    <li class="item" data-location="johor" data-category="cleaning-ocean" data-date="2024-08-01" data-lat="1.4927" data-lng="103.7414">
                        <div>
                            <h4>Beach Cleaning Johor</h4>
                            <p>Thursday(1/8/24): 8.00am-12.00pm</p>
                        </div>
                    </li>
                </ul>
                <ul id="helping-elderly-list" class="volunteer-list-items" style="display: none;">
                    <li class="item" data-location="johor" data-category="helping-elderly" data-date="2024-07-31" data-lat="1.4605" data-lng="103.7638">
                        <div>
                            <h4>Rumah Orang Tua Johor</h4>
                            <p>Sunday(31/7/24): 9.00am-1.00pm</p>
                        </div>
                    </li>
                    <li class="item" data-location="kedah" data-category="helping-elderly" data-date="2024-08-05" data-lat="6.1248" data-lng="100.3679">
                        <div>
                            <h4>Rumah Orang Tua Kedah</h4>
                            <p>Monday(5/8/24): 10.00am-2.00pm</p>
                        </div>
                    </li>
                    <li class="item" data-location="penang" data-category="helping-elderly" data-date="2024-08-10" data-lat="5.4204" data-lng="100.3430">
                        <div>
                            <h4>Rumah Orang Tua Penang</h4>
                            <p>Saturday(10/8/24): 9.00am-1.00pm</p>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="volunteer-details">
            <div id="details-placeholder">
                <!-- Placeholder for volunteer details -->
                <h2>Volunteer Details</h2>
                <h3>Register to be a Volunteer Now!</h3>
                <form>
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name">
                    <label for="contact">Contact:</label>
                    <input type="text" id="contact" name="contact">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email">
                    <button type="submit">Submit</button>
                </form>
            </div>
        </div>
    </div>
    <div class="footer">
        <p>copyright @ Voluntrr</p>
    </div>

    <script>
        let map;
        let markers = [];

        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 4.2105, lng: 101.9758 },
                zoom: 6
            });
        }

        function searchFunction() {
            let location = document.getElementById('myLocation').value.toLowerCase();
            let category = document.getElementById('myCategories').value.toLowerCase();
            let date = document.getElementById('date').value;
            let items = document.getElementsByClassName('item');

            for (let i = 0; i < items.length; i++) {
                let itemLocation = items[i].getAttribute('data-location');
                let itemCategory = items[i].getAttribute('data-category');
                let itemDate = items[i].getAttribute('data-date');

                if ((location === "" || itemLocation === location) &&
                    (category === "" || itemCategory === category) &&
                    (date === "" || itemDate === date)) {
                    items[i].style.display = "list-item";
                } else {
                    items[i].style.display = "none";
                }
            }
        }

        function showList(listId) {
            var lists = document.getElementsByClassName('volunteer-list-items');
            for (var i = 0; i < lists.length; i++) {
                lists[i].style.display = 'none';
            }
            document.getElementById(listId).style.display = 'block';
        }

        document.addEventListener('DOMContentLoaded', function () {
            let items = document.getElementsByClassName('item');
            for (let i = 0; i < items.length; i++) {
                items[i].addEventListener('click', function () {
                    let lat = parseFloat(this.getAttribute('data-lat'));
                    let lng = parseFloat(this.getAttribute('data-lng'));
                    let title = this.querySelector('h4').innerText;
                    let date = this.querySelector('p').innerText;

                    let position = { lat: lat, lng: lng };

                    // Clear previous markers
                    for (let marker of markers) {
                        marker.setMap(null);
                    }
                    markers = [];

                    let marker = new google.maps.Marker({
                        position: position,
                        map: map,
                        title: title
                    });

                    markers.push(marker);

                    map.setCenter(position);
                    map.setZoom(12);

                    // Update details
                    let detailsPlaceholder = document.getElementById('details-placeholder');
                    detailsPlaceholder.innerHTML = `
                        <h2>${title}</h2>
                        <p>${date}</p>
                    `;
                });
            }
        });
    </script>
</body>

</html>
